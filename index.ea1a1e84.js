class e{static #e=(()=>{this.wordInstances=new Map})();static #t=(()=>{this.elementToWord=new Map})();constructor(i,s,a){this.word=i,this.x=s,this.y=a,this.wordNumber=e.wordInstances.get(i)??1,this.element=document.createElement("div"),this.element.classList.add("type-word"),this.element.classList.add(i),this.element.id=i,this.element.innerHTML=i,this.element.draggable="true",this.element.style.position="absolute",this.element.addEventListener("dragstart",t),this.element.addEventListener("dragend",l),this.element.addEventListener("drag",n),this.element.style.left=s+"px",this.element.style.top=a+"px",e.wordInstances.set(i,(e.wordInstances.get(i)??0)+1),e.elementToWord.set(this.element,this)}processCollisions(){let t=this.element.getBoundingClientRect().x+this.element.getBoundingClientRect().width/2,n=this.element.getBoundingClientRect().y+this.element.getBoundingClientRect().height/2;for(let l of e.elementToWord.values())if(this!==l&&i(this.element.getBoundingClientRect(),l.element.getBoundingClientRect())){let e=l.element.getBoundingClientRect().x+l.element.getBoundingClientRect().width/2,i=l.element.getBoundingClientRect().y+l.element.getBoundingClientRect().height/2,s=e-t,a=i-n,o=Math.sqrt(s*s+a*a);l.element.style.left=`${l.element.getBoundingClientRect().x+s/o*30}px`,l.element.style.top=`${l.element.getBoundingClientRect().y+a/o*20}px`}}}function t(e){e.dataTransfer.setData("text/plain",`${this.id};${e.clientX-e.srcElement.getBoundingClientRect().x};${e.clientY-e.srcElement.getBoundingClientRect().y}`)}function n(e){this.last_x=e.clientX,this.last_y=e.clientY}function l(t){let n,l;let i=document.getElementById("poem"),a=i?.getBoundingClientRect();t.srcElement?.getBoundingClientRect();let o=this.last_x>a.x&&this.last_y>a.y&&this.last_x<a.x+a.width&&this.last_y<a.y+a.height;o?(n=this.last_x-a.x-Number(t.srcElement.style.leftTemp)-3,l=this.last_y-a.y-Number(t.srcElement.style.topTemp)-3):(n=this.last_x-Number(t.srcElement.style.leftTemp)-3,l=this.last_y-Number(t.srcElement.style.topTemp)-3),t.srcElement.style.left=`${n}px`,t.srcElement.style.top=`${l}px`,t.srcElement.style.leftTemp=0,t.srcElement.style.topTemp=0,e.elementToWord.get(t.srcElement).x=n,e.elementToWord.get(t.srcElement).y=l,function(){let e="/",t=document.getElementById("poem"),n=t?.getBoundingClientRect();Array.from(document.getElementsByClassName("type-word")).forEach(t=>{let l=t?.getBoundingClientRect();s(t)&&(e+=`${t.innerHTML},${Math.round(l.x-n.x-3)},${Math.round(l.y-n.y-3)};`)}),history.replaceState(null,"",e)}()}function i(e,t){return e.x+e.width>t.x&&e.y+e.height>t.y&&e.x<t.x+t.width&&e.y<t.y+t.height}function s(e){let t=document.getElementById("poem"),n=t?.getBoundingClientRect(),l=e?.getBoundingClientRect();return i(n,l)}const a=document.getElementsByTagName("body")[0];a.addEventListener("dragover",e=>(e.preventDefault(),!1)),a.addEventListener("drop",e=>{e.preventDefault();let t=e.dataTransfer.getData("text/plain").split(";");e.dataTransfer?.setData("text/plain",t.join(";"));let n=document.getElementById(t[0]);(n?.style).leftTemp=t[1],(n?.style).topTemp=t[2];try{void 0!==Array.from(e.target.classList).find(e=>"type-word"===e)?e.target.parentElement.appendChild(n):e.target.appendChild(n)}catch(e){console.warn(e)}return!1}),function(t){let n=document.getElementsByTagName("body")[0],l=document.getElementById("poem"),i=window.location.pathname,a=new Map,o=new Map;if(i.length>1){let t=i.substring(1,i.length-1).split(";");t.forEach(t=>{let[n,i,s]=t.split(",");a.set(n,(a.get(n)??0)+1),o.set(n,(o.get(n)??0)+1);let r=new e(n,Number(i),Number(s));l?.appendChild(r.element)})}let r=document.getElementsByTagName("body")[0].getBoundingClientRect();t.forEach(t=>{if(a.get(t)>0)a.set(t,a.get(t)-1);else{o.set(t,(o.get(t)??0)+1);let l=new e(t,0,0);n?.appendChild(l.element);do l.element.style.left=Math.random()*r.width*.9+50+"px",l.element.style.top=Math.random()*r.height*.9+50+"px";while(s(l.element))}})}(["&","a","a","a","about","above","act","again","age","air","all","alone","always","am","an","an","and","and","and","and","angry","apartment","are","are","as","as","ask","at","at","away","bacon","bad","be","be","beauty","bed","been","begin","being","believe","belong","bitter","blank","blue","break","bring","burn","but","but","by","by","call","can","car","change","chocolate","city","clock","coffee","cold","come","could","cry","curse","d","day","dead","deep","did","die","different","dirty","do","dog","door","dream","drink","drive","dry","e","easy","eat","ed","ed","empty","end","er","es","es","est","ever","eye","face","family","far","feel","fight","find","fire","fix","for","for","forever","forget","forgive","friend","from","from","ful","funny","garden","gas","get","girl","give","go","gone","good","hair","hand","happen","happiness","happy","hard","has","has","have","have","he","he","heart","heavy","help","her","her","here","high","him","him","his","his","hold","hope","hour","how","hungry","I","I","I","I","ice","if","in","in","in","ing","ing","ing","is","is","it","it","keep","kill","kiss","kitchen","know","late","laugh","lazy","learn","less","let","letter","life","like","like","listen","little","live","lock","lone","long","look","love","ly","ly","mad","make","man","matter","me","me","mean","meet","mind","minute","miss","mixtape","money","moon","morning","move","movie","music","must","my","my","name","near","need","never","new","next","night","no","not","not","nothing","now","number","of","of","okay","old","on","on","one","or","or","our","out","over","own","page","paper","party","people","phone","play","please","pretty","purple","put","question","quick","r","r","rain","re","read","ready","reason","red","right","road","room","rough","run","s","s","s","s","sad","safe","said","same","save","say","see","seek","shadow","she","she","short","should","show","sick","silence","sit","skin","sky","sleep","slow","small","smell","so","some","song","sorry","start","stay","still","stop","story","sugar","summer","sun","sure","sweet","table","take","talk","tear","tell","thank","the","the","the","their","there","these","they","they","thing","think","those","thought","through","time","to","to","today","try","TV","up","us","use","vacation","very","wait","walk","want","warm","was","was","water","way","we","week","well","were","wet","what","when","white","who","why","will","will","window","wish","with","with","wonder","word","work","would","write","y","y","yet","you","you","you","young","your","your"]);
//# sourceMappingURL=index.ea1a1e84.js.map
